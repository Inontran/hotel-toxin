include ../dropdown/dropdown
include ../air-datepicker/air-datepicker
include ../button/button
include ../card/card

//-
  options.classes - Классы блока.
  options.id - ИД блока.
  options.roomNumber - Номер апартаментов.
  options.roomType - Тип апартаментов (люкс).
  options.price - Стоимость апартаментов.
  options.priceTime - Пометка "в сутки" или "в неделю".
  options.listService - Список услуг.
  options.listService[0].name - Название услуги.
  options.listService[0].price - Цена услуги.
  options.listService[0].tooltip - Подсказка.
  options.totalPrice - Итоговая стоимость.

mixin form-booking(options)
  if !options
    - options = {}

  if !options.classes
    - options.classes = ''

  if !options.id
    - options.id = ''

  div.form-booking(class = options.classes, id = options.id)
    +card()
      div.form-booking__title.card_mb10
        div.form-booking__title-left
          span.form-booking__title-symbol № 
          span.form-booking__title-number #{options.roomNumber}
          if options.roomType
            span.form-booking__title-type  #{options.roomType}
        div.form-booking__title-right
          span.form-booking__title-price #{options.price}
          span.form-booking__title-price-type  #{options.priceTime}
      
      div.card_mb20
        +dropdown({
          customContent: true,
          classes: 'dropdown_dates',
          inputParams: {
            label: "Прибытие",
            readonly: true,
            placeholder: "ДД.ММ.ГГГГ",
            classes: 'js-input_result-date-start'
          },
          inputParams2: {
            label: "Выезд",
            readonly: true,
            placeholder: "ДД.ММ.ГГГГ",
            classes: 'js-input_result-date-end'
          },
        })
          +air-datepicker({classes: 'air-datepicker_inline'})

      div.card_mb20
        +dropdown({
          inputParams:{
            label: "Гости",
            readonly: true
          },
          inputParams:{
            value: "Сколько гостей"
          }
        })
          +list-counters({
            textDefault: "Сколько гостей",
            textOne: " гость",
            textMany: " гостей",
            arrayCounters: [
              {label: "Взрослые", inputName: ""},
              {label: "Дети", inputName: ""},
              {label: "Младенцы", inputName: ""}
            ]
          })

      if options.listService
        div.card_mb20
          table.form-booking__table
            each item, index in options.listService
              tr
                td.form-booking__table-cell #{item.name}
                td.form-booking__table-cell.form-booking__table_px5 
                  if item.tooltip
                    div.form-booking__tooltip(title = item.tooltip)
                td.form-booking__table-cell.form-booking__table-cell_price #{item.price}

      if options.totalPrice
        div.form-booking__bottom.card_mb20
          span.form-booking__bottom-word Итого
          div.form-booking__bottom-points
          span.form-booking__bottom-price #{options.totalPrice}
      +button({text: "Забронировать", classes: "button_fill button_arrow-left button_wide"})