include ../button/button
include ../input-number/input-number

//-
  options.classes - Классы блока.
  options.id - ИД блока.
  options.type = 1 - Тип блока со счетчиками. Если 1, тогда блок отображается с кнопками сброса и подтверждения.
  options.text_default - Текст поля без значений.
  options.text_one - Текст поля, если сумма всех счетчиков равно 1.
  options.text_many - Текст поля, если сумма всех счетчиков больше 1.
  options.array_counters - Массив полей-счетчиков.
  options.array_counters[0].label - Подпись счетчика.
  options.array_counters[0].value = 0 - Значение поля счетчика.
  options.array_counters[0].input_name - Имя поля счетчика.

mixin list-counters(options)
  if !options
    - options = {}

  if !options.classes
    - options.classes = ''
  
  if !options.id
    - options.id = ''

  if !options.type
    - options.type = 1

  if options.type == 2
    - options.classes += ' list-counters_simple'

  if !options.text_default
    - options.text_default = ''

  if !options.text_one
    - options.text_one = ''

  if !options.text_many
    - options.text_many = ''


  div.list-counters.js-list-counters(
    class = options.classes, 
    id = options.id,
    data-default-text = options.text_default, 
    data-text-one = options.text_one, 
    data-text-many = options.text_many
  )
    if options.array_counters
      each item, index in options.array_counters
        div.list-counters__counter.js-list-counters__counter
          span.list-counters__counter-label.js-list-counters__counter-label #{item.label}
          +input-number({
            value: item.value ? item.value : 0,
            name: item.input_name ? item.input_name : '',
            min: 0
          })
      if options.type == 1
        div.list-counters__btns-result
          div.list-counters__btn-reset.js-list-counters__btn-reset
            +button({text: "Очистить", classes: "button_gray"})
          div.list-counters__btn-submit.js-list-counters__btn-submit
            +button({text: "Применить"})