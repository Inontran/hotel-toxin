include ../dropdown/dropdown
include ../slider-range/slider-range
include ../checkbox/checkbox
include ../collapse/collapse
include ../air-datepicker/air-datepicker

//-
  options.classes - Классы блока.
  options.id - ИД блока.
  options.isMobile - Параметр, указывающий на то, что фильтр отображется и работает для моб. версии сайта.
  options.optionDropdownDates - Параметры для dropdown с календарем.
  options.optionDropdownDatesDatepicker - Параметры календаря.
  options.optionDropdownPeople - Параметры выпадающего списка гостей.
  options.optionSliderRange - Параметры слайдера диапозона цены.
  options.checkboxes - Массив простых чекбоксов.
  options.checkboxes[0] - Параметры чекбокса.
  options.checkboxesTitle - Заголовок массива простых чекбоксов.
  options.checkboxesBig - Массив чекбоксов с текстов и заголовком.
  options.checkboxesBig[0] - Параметры чекбокса.
  options.checkboxesBigTitle - Заголовок массива чекбоксов.
  options.optionDropdownFeature - Параметры выпадающегося списка удобств номеров.
  options.collapseFeatureOptions - Параметры раскрывающегося списка удобств номеров.
  options.collapseFeatureCheckboxes - Массив чекбоксов удобств номеров.

mixin filter-products(options = {})
  -
    const {
      classes = '',
      id = false,
      isMobile = false,
      optionDropdownDates = false,
      optionDropdownDatesDatepicker = {},
      optionDropdownPeople = false,
      optionSliderRange = false,
      checkboxes = false,
      checkboxesTitle = false,
      checkboxesBig = false,
      checkboxesBigTitle = false,
      optionDropdownFeature = false,
      collapseFeatureOptions = false,
      collapseFeatureCheckboxes = []
    } = options;

  aside.filter-products.js-filter-products(
    class = classes,
    id = id ? id : false,
    class = isMobile ? "filter-products_mob-md" : false,
  )
    div.filter-products__content-wrapper
      if isMobile
        div.filter-products__close.filter-products_mb30
          +button({
            classes: 'button_filled_blue-green-gradient button_size_md js-filter-products_hide-filter',
            text: 'Скрыть фильтр'
          })

      if optionDropdownDates
        - optionDropdownDates.group = 'filterProducts'
        div.filter-products__block-wrapper.filter-products_mb20
          +dropdown(optionDropdownDates)
            +air-datepicker(optionDropdownDatesDatepicker)

      if optionDropdownPeople
        - optionDropdownPeople.group = 'filterProducts'
        div.filter-products__block-wrapper.filter-products_mb30
          +dropdown(optionDropdownPeople)
            +list-counters(optionDropdownPeople)

      if optionSliderRange
        div.filter-products__block-wrapper.filter-products_mb30
          +slider-range(optionSliderRange)

      if checkboxes
        div.filter-products__element.filter-products_mb31
          if checkboxesTitle
            h3.filter-products__element.filter-products_mb13 #{checkboxesTitle}
          ul.filter-products__list-checkboxes
            each val, index in checkboxes
              li.filter-products__list-checkboxes-item.filter-products_mb10
                +checkbox(val)

      if checkboxesBig
        div.filter-products__element.filter-products_mb30
          if checkboxesBigTitle
            h3.filter-products__element.filter-products_mb16 #{checkboxesBigTitle}
          ul.filter-products__list-checkboxes
            each val, index in checkboxesBig
              li.filter-products__list-checkboxes-item.filter-products_mb10
                +checkbox(val)

      if optionDropdownFeature
        - optionDropdownFeature.type = 2
        - optionDropdownFeature.group = 'filterProducts'
        div.filter-products__block-wrapper.filter-products_mb16
          +dropdown(optionDropdownFeature)
            +list-counters(optionDropdownFeature)

      if collapseFeatureOptions
        +collapse(collapseFeatureOptions)
          ul.filter-products__list-checkboxes
            each val, index in collapseFeatureCheckboxes
              li.filter-products__list-checkboxes-item.filter-products_mb10
                +checkbox(val)